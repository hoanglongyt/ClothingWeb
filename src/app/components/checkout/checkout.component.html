<div class="container">
  <h1 class="page-title">Thanh toán</h1>

  <!-- Hiển thị khi đặt hàng thành công -->
  <div class="order-success" *ngIf="orderPlaced">
    <div class="success-icon">✓</div>
    <h2>Đặt hàng thành công!</h2>
    <p>Cảm ơn bạn đã mua sắm tại Shop Quần Áo.</p>
    <p>Chúng tôi sẽ liên hệ với bạn sớm để xác nhận đơn hàng.</p>
    <a routerLink="/" class="btn-back-home">Quay lại trang chủ</a>
  </div>

  <!-- Form thanh toán -->
  <div class="checkout-content" *ngIf="!orderPlaced">
    <div class="checkout-form">
      <h2>Thông tin thanh toán</h2>
      <form (ngSubmit)="onSubmit()">
        <div class="form-group">
          <label for="fullName">Họ và tên *</label>
          <input
            type="text"
            id="fullName"
            name="fullName"
            [(ngModel)]="customerInfo.fullName"
            required
          >
        </div>

        <div class="form-group">
          <label for="email">Email *</label>
          <input
            type="email"
            id="email"
            name="email"
            [(ngModel)]="customerInfo.email"
            required
          >
        </div>

        <div class="form-group">
          <label for="phone">Số điện thoại *</label>
          <input
            type="tel"
            id="phone"
            name="phone"
            [(ngModel)]="customerInfo.phone"
            required
          >
        </div>

        <div class="form-group">
          <label for="address">Địa chỉ *</label>
          <input
            type="text"
            id="address"
            name="address"
            [(ngModel)]="customerInfo.address"
            required
          >
        </div>

        <div class="form-group">
          <label for="city">Thành phố *</label>
          <input
            type="text"
            id="city"
            name="city"
            [(ngModel)]="customerInfo.city"
            required
          >
        </div>

        <div class="form-group">
          <label>Phương thức thanh toán *</label>
          <div class="payment-methods">
            <div class="payment-method">
              <input
                type="radio"
                id="cod"
                name="paymentMethod"
                value="cod"
                [(ngModel)]="customerInfo.paymentMethod"
              >
              <label for="cod">Thanh toán khi nhận hàng (COD)</label>
            </div>

            <div class="payment-method">
              <input
                type="radio"
                id="bank"
                name="paymentMethod"
                value="bank"
                [(ngModel)]="customerInfo.paymentMethod"
              >
              <label for="bank">Chuyển khoản ngân hàng</label>
            </div>
          </div>
        </div>

        <button type="submit" class="btn-place-order">Đặt hàng</button>
      </form>
    </div>

    <div class="order-summary">
      <h2>Đơn hàng của bạn</h2>
      <div class="order-items">
        <div class="order-item" *ngFor="let item of cartItems">
          <div class="item-info">
            <span class="item-name">{{ item.product.name }}</span>
            <span class="item-variant">{{ item.size }} / {{ item.color }}</span>
            <span class="item-quantity">x{{ item.quantity }}</span>
          </div>
          <div class="item-price">
            {{ item.product.price * item.quantity | currency:'VND':'symbol':'1.0-0' }}
          </div>
        </div>
      </div>

      <div class="order-total">
        <span>Tổng cộng:</span>
        <span class="total-price">{{ totalPrice | currency:'VND':'symbol':'1.0-0' }}</span>
      </div>

      <a routerLink="/cart" class="btn-back-to-cart">Quay lại giỏ hàng</a>
    </div>
  </div>
</div>
